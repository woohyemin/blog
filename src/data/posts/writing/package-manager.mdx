---
title: "[패키지 매니저 비교] npm, yarn, yarn berry, npx, pnpm의 차이"
date: "2024-08-10 22:30:00"
description: "npm, yarn, yarn berry, npx, pnpm의 차이를 알아보자"
categories: ["Etc"]
thumbnail: "package-manager/package_manager_thumbnail.jpg"
tags: ["Package Manager", "npx", "npm", "yarn", "pnpm"]
activate: true
---

[나만의 블로그를 개발](/posts/writing/blog-part1)하면서 패키지 매니저로 어떤 것을 사용할 지 고민이 되었다. 그래서 이번 글에서는 많이 사용되는 npm, Yarn, Yarn Berry, npx, pnpm를 비교해 보려고 한다.

# 패키지 매니저 (Package Manager)

패키지 매니저는 소프트웨어 개발에서 코드 라이브러리와 패키지의 설치, 업데이트, 제거 등을 관리해주는 도구다.

# npm (Node Package Manager)

npm은 Node.js와 함께 기본으로 제공되는 패키지 관리 도구다. npm은 JavaScript 생태계에서 가장 널리 사용되는 패키지 매니저 중 하나다.

## 주요 기능

- Node.js 설치 시 함께 제공되어 추가 설치가 필요 없다.
- 큰 패키지 레지스트리와 커뮤니티를 지원한다.

## 단점

- 초기 버전에서 속도가 느리고 중복된 패키지 문제로 인해 디스크 공간을 많이 차지할 수 있다. (최근 버전에서는 많은 개선이 이루어졌다고 한다.)

# Yarn

Yarn은 Facebook(현 Meta)에서 개발한 npm의 대안 패키지 관리자다. npm의 느린 속도와 보안 문제를 해결하기 위해 만들어졌다.

## 주요 기능

- Yarn은 병렬 다운로드와 효율적인 캐시 관리를 통해 패키지 설치 속도를 향상시킨다.
- `yarn.lock` 파일을 통해 패키지 버전 관리를 엄격히 할 수 있어, 다른 환경에서 동일한 종속성을 보장한다.
- 모노레포(monorepo) 구조의 프로젝트에서 여러 패키지를 한 번에 관리할 수 있다.

<DescriptionBox
  icon="💡"
  title="모노레포란?"
  content="모노레포(monorepo)는 여러 패키지나 프로젝트를 하나의 리포지토리에서 관리하는 방식이다. 대규모 프로젝트나 라이브러리 집합을 하나의 리포지토리에서 효율적으로 관리하기 위해 주로 사용된다. 모노레포 구조에서는 각 패키지가 독립적으로 존재하지만, 이들 간의 종속성 관리와 빌드 프로세스를 쉽게 통합할 수 있다."
/>

## 단점

- npm에 비해 생태계가 작고, 일부 사용자에게는 학습 곡선이 있을 수 있다.

# Yarn Berry (Yarn 2.x)

Yarn Berry는 Yarn의 2.x 버전으로, 기존 Yarn(1.x)과는 많은 차이점을 가진다. 모듈 버전 관리, 성능 개선, 새로운 기능 도입 등 대규모 리팩토링을 거쳤다.

## 주요 기능

- Yarn Berry는 기본적으로 `node_modules` 폴더를 생성하지 않고, 대신 파일 시스템의 루트에 있는 `.pnp.cjs` 파일을 통해 종속성을 관리한다. 이로 인해 디스크 공간이 절약되고 설치 속도가 빨라진다.
- Yarn Berry는 프로젝트를 클론할 때 패키지를 다시 설치할 필요가 없도록 설계되어 있다. 종속성이 저장소에 포함되어 있기 때문이다.
- Yarn Berry는 다양한 버전 관리 도구와 통합되어, 패키지의 충돌을 최소화할 수 있다.

## 단점

- 새로운 개념과 도구가 도입되었기 때문에, 기존 Yarn 1.x 사용자가 익숙해지기까지 시간이 걸릴 수 있다.
- PnP는 기존 `node_modules` 방식을 사용하지 않기 때문에, 일부 패키지가 호환되지 않을 수 있다.

# npx (Node Package eXecute)

npx는 npm 버전 `5.2.0`부터 함께 제공되는 도구로, 패키지를 설치하지 않고도 실행할 수 있다.

## 주요 기능

- 로컬에 설치되지 않은 패키지를 일회성으로 실행할 수 있다.
- 별도의 설치 없이 명령어를 바로 실행할 수 있어 빠르고 편리하다.

## 단점

- 일회성 실행 시마다 패키지를 다운로드하므로, 인터넷 속도에 따라 느릴 수 있다.
- 주로 임시 작업에 사용되며, 자주 사용하는 패키지는 전역 설치가 더 편리할 수 있다.

# pnpm (Performant npm)

pnpm은 npm과 호환되며 더 빠른 속도와 적은 디스크 사용량을 제공하는 패키지 매니저다.

npm과 yarn의 단점을 개선한 패키지 매니저라고 볼 수 있을 것 같다.

## 주요 기능

- pnpm은 패키지를 중앙 저장소에 한 번만 저장하고, 이를 프로젝트마다 심볼릭 링크를 통해 참조한다.
- 패키지를 공유하는 방식 덕분에 설치 속도가 매우 빠르다.
- 프로젝트마다 고유한 종속성 트리를 유지하며, 겹치는 버전 문제가 적다.

## 단점

- 상대적으로 작은 사용자 기반으로 커뮤니티를 지원한다.
- 일부 환경에서 호환성 문제가 발생할 수 있다.

# 결론

각 패키지 매니저는 각각의 장단점을 가지고 있으며, 프로젝트의 요구 사항과 개발 환경에 따라 선택하면 될 것 같다.

- **npm**은 기본적인 Node.js 패키지 관리자로 편리함이 있지만, 최근 개선으로 성능이 향상되었다.
- **Yarn**은 npm의 대안으로 더 빠르고 신뢰성 있는 패키지 관리 기능을 제공한다.
- **Yarn Berry**은 Yarn의 2.x 버전으로, node_modules 없이 종속성을 관리하고 성능이 크게 개선되었다.
- **npx**은 별도의 설치 없이 npm 패키지를 즉시 실행할 수 있게 해주는 도구로 일회성 실행에 유용하다.
- **pnpm**은 더 빠르고 효율적인 패키지 설치 및 관리가 가능한 대안 패키지 관리자다.
